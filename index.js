// Generated by CoffeeScript 1.10.0
var _, fs, makeCollector, makeNodeModulesName, makePackagesName, nodeModulesName, packagesName, quest;

fs = require('fs');

_ = require('lodash');

makePackagesName = function(files) {
  var file, i, len, packages;
  packages = [];
  for (i = 0, len = files.length; i < len; i++) {
    file = files[i];
    file = file.split('-');
    if (file.length > 1 && file[0].match('gulp')) {
      packages.push(file[1]);
    } else if (file.length > 1 && !file[0].match('gulp')) {
      packages.push("" + file[0] + (file[1][0].toUpperCase()) + file[1].slice(1));
    } else if (file.length === 1) {
      packages.push(file[0]);
    }
  }
  return packages;
};

makeNodeModulesName = function(files) {
  var file, i, len, results;
  results = [];
  for (i = 0, len = files.length; i < len; i++) {
    file = files[i];
    results.push(require(file));
  }
  return results;
};

makeCollector = function(cols, rows) {
  return _.zipObject(cols, rows);
};

quest = fs.readdirSync('./node_modules').slice(1);

packagesName = makePackagesName(quest);

nodeModulesName = makeNodeModulesName(quest);

module.exports = makeCollector(packagesName, nodeModulesName);
